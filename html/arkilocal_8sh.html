<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>NWPconf: /lhome/lm_ope/nwpconf/bin/arkilocal.sh File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">NWPconf
   &#160;<span id="projectnumber">Version1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_2ea30aa2956a8db99dd22aa5e597f384.html">bin</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">arkilocal.sh File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>module with functions for working with a local file-based arkimet archive.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a183c028a2c1e093f8f3ba8af2e9838f8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="arkilocal_8sh.html#a183c028a2c1e093f8f3ba8af2e9838f8">arkilocal_setup</a> ()</td></tr>
<tr class="memdesc:a183c028a2c1e093f8f3ba8af2e9838f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialise the environment for using a local file-based arkimet dataset.  <a href="#a183c028a2c1e093f8f3ba8af2e9838f8">More...</a><br/></td></tr>
<tr class="separator:a183c028a2c1e093f8f3ba8af2e9838f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e5b88f1af7d862071001c1c80b6c12c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="arkilocal_8sh.html#a7e5b88f1af7d862071001c1c80b6c12c">arkilocal_create</a> ($1)</td></tr>
<tr class="memdesc:a7e5b88f1af7d862071001c1c80b6c12c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a local file-based arkimet dataset.  <a href="#a7e5b88f1af7d862071001c1c80b6c12c">More...</a><br/></td></tr>
<tr class="separator:a7e5b88f1af7d862071001c1c80b6c12c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>module with functions for working with a local file-based arkimet archive. </p>
<p>This module provides functions for managing a local, file-based and serverless arkimet archive. The archive will have lower performances and flexibility than a real arkimet archive based on an arkimet server, but all the archiving and retrieving procedures can work almost transparently. It is useful mainly for using the functions designed for continuous assimilation defined in the <a class="el" href="arkiana_8sh.html" title="Module with functions for processing analysis fields in a continuous assimilation cycle...">arkiana.sh</a> module. The environment variable <code>$ARKI_DIR</code> must be exported before sourcing the module, it indicates the root directory of the archive, moreover at least one of the <code>$MODEL_ASSIM_GP</code>, <code>$MODEL_FCAST_GP</code>, <code>$MODEL_INTER_GP</code>, <code>$MODEL_RADAR_GP</code> variables indicating the generating processes of assimilation, forecast and interpolated from parent model grib files should be set. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a183c028a2c1e093f8f3ba8af2e9838f8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">arkilocal_setup </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialise the environment for using a local file-based arkimet dataset. </p>
<p>Creates a local file-based arkimet dataset.</p>
<p>This function is implicitly called when the module is sourced, it sets the variables <code>$ARKI_SCAN_METHOD</code>, <code>$ARKI_CONF</code> and <code>$ARKI_DS_*</code> internally used by the dataset creation function and by the archiving and retrieving functions.</p>
<p>This function creates the directory tree and the basic </p>

</div>
</div>
<a class="anchor" id="a7e5b88f1af7d862071001c1c80b6c12c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">arkilocal_create </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$1</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a local file-based arkimet dataset. </p>
<p>This function creates the directory tree and the basic configuration files required for working with a local file-based and serverless arkimet archive rooted in the directory specified by <code>$ARKI_DIR</code> (which must contain only a local path specification). It creates the datasets <code>&lt;TYPE&gt;</code> based on the settings of the variables <code>$MODEL_&lt;TYPE&gt;_GP</code> inserting a filter with the proper generating process in each configuration. It creates also the error dataset, required by arkimet, and merges all the config files into a single configuration file. It also sets the variable <code>$ARKI_SCAN_METHOD</code> to <code>arki-scan</code> and <code>$ARKI_CONF</code> to the required value (see putarki.sh::putarki_archive() ) and exports the <code>$ARKI_DS_&lt;TYPE&gt;</code> variables pointing to the proper dataset. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$1</td><td>-c for cleaning the contents of a previous dataset (erases <code>$ARKI_DIR</code> directory!) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
