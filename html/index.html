<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>NWPconf: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">NWPconf
   &#160;<span id="projectnumber">Version1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">NWPconf Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>NWPconf is a library of bash shell functions that simplify the task of running Numerical Weather Prediction or &ndash;more generally&ndash; Environmental models on a regular daily basis, taking into account the basic operations related to date/time computations, defining test configurations, creating configuration files from templates, preparing input data and managing parallel processes.</p>
<p>The library consists of a main bash shell module, <em><a class="el" href="nwpconf_8sh.html" title="Main entry point for the NWPconf bash library. ">nwpconf.sh</a></em>, and a set of optional modules. These modules can be used within a regular shell script in bash shell as well as within a batch job submitted to a scheduling system, provided that the shell chosen for the batch job is bash.</p>
<p>In order to use the library, the user shell script must export some valuable environmental variables (see the documentation of each module for the correspoding variables and explanation), and <em>source</em> the desired module files, in the following way: </p>
<pre class="fragment"># Export main variables (customize)
export NWPCONFDIR=$HOME/conf
export NWPCONFBINDIR=$HOME/nwpconf/bin
export NWPCONF=production/dailymodelrun/forecast
# source the main library file
. $NWPCONFBINDIR/nwpconf.sh
# source other optional modules
. $NWPCONFBINDIR/nwptime.sh
</pre><p>The modules contain mainly shell functions, but some short initialisation code may be executed by some modules when being sourced. The functions have been written avoiding the generation of nonzero return codes for non-fatal error situations, so it is safe and even suggested to run with the shell setting </p>
<pre class="fragment">set -e
</pre><p>so that the execution will stop in case of serious errors.</p>
<p>The examples/conf/ directory in the source tree contains a sample configuration tree, run the <code>testenv.sh</code> script from within the examples/ directory to try it.</p>
<p>All the modules have been written for and tested with the bash shell; most of the functions may work also with the traditional ksh shell, but some will for sure fail due to the use of some bash-specific constructs.</p>
<p>The documentation can be built with the help of <a href="http://www.stack.nl/~dimitri/doxygen/index.html">Doxygen</a> and the additional <code>doxygen-bash.sed</code> script for extracting documentation from shell scripts, available from the <a href="https://github.com/Anvil/bash-doxygen">bash-doxygen project</a>. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
