<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>NWPconf: /lhome/lm_ope/nwpconf/bin/getarki.sh File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">NWPconf
   &#160;<span id="projectnumber">Version1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_2ea30aa2956a8db99dd22aa5e597f384.html">bin</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">getarki.sh File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Module with functions for retrieving observations and initial/boundary conditions from arkimet archive.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a17f91630267f578e1232b6d3161a9006"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="getarki_8sh.html#a17f91630267f578e1232b6d3161a9006">getarki_obsbufr</a> ($1, $2)</td></tr>
<tr class="memdesc:a17f91630267f578e1232b6d3161a9006"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve observations in BUFR format from arkimet archive.  <a href="#a17f91630267f578e1232b6d3161a9006">More...</a><br/></td></tr>
<tr class="separator:a17f91630267f578e1232b6d3161a9006"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53b8b12cd762e6e1113e3f01a96ce969"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="getarki_8sh.html#a53b8b12cd762e6e1113e3f01a96ce969">getarki_icbc</a> ()</td></tr>
<tr class="memdesc:a53b8b12cd762e6e1113e3f01a96ce969"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve gridded initial and/or boundary conditions from arkimet archive.  <a href="#a53b8b12cd762e6e1113e3f01a96ce969">More...</a><br/></td></tr>
<tr class="separator:a53b8b12cd762e6e1113e3f01a96ce969"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Module with functions for retrieving observations and initial/boundary conditions from arkimet archive. </p>
<p>This module provides functions for retrieving observations in BUFR format and initial/boundary conditions, tipically in GRIB format, from the desired dataset of an <a href="https://github.com/ARPA-SIMC/arkimet">Arkimet archive</a>.</p>
<p>It is an optional module and it has to be sourced after the <em><a class="el" href="nwptime_8sh.html" title="Module with functions for managing the reference time of NWP runs. ">nwptime.sh</a></em> module. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a17f91630267f578e1232b6d3161a9006"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getarki_obsbufr </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve observations in BUFR format from arkimet archive. </p>
<p>This function retrieves observations in BUFR format from the arkimet dataset(s) specified in the configuration variable <code>$BUFR_ARKI_DS</code>, for the data assimilation interval specified in the configuration. It should be called after having loaded the module <a class="el" href="nwptime_8sh.html" title="Module with functions for managing the reference time of NWP runs. ">nwptime.sh</a> for setting up the time-related environment variables. The interval of data retrieved is extended by a configurable amount of hours (default 3), before and after the strict assimilation interval. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$1</td><td>name of the output bufr file </td></tr>
    <tr><td class="paramname">$2</td><td>optional value of extra time interval in hours before and after assimilation, default 3 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a53b8b12cd762e6e1113e3f01a96ce969"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getarki_icbc </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve gridded initial and/or boundary conditions from arkimet archive. </p>
<p>Retrieve gridded initial and/or boundary conditions from MARS archive.</p>
<p>This function retrieves gridded fields, tipically in GRIB format, to be used as initial and/or boundary conditions, possibly through an interpolation process, from the arkimet dataset(s) specified in the configuration variable <code>$PARENTMODEL_ARKI_DS</code>, for the model run interval specified in the configuration. A specific model system module must have been loaded in order to provide the function inputmodel_name() for renaming the files. It should be called after having loaded the module <a class="el" href="nwptime_8sh.html" title="Module with functions for managing the reference time of NWP runs. ">nwptime.sh</a> for setting up the time-related environment variables and within a time loop on input models, such as: </p>
<pre class="fragment">nwpbctimeloop_init
while nwpbctimeloop_loop; do
    getarki_icbc
done  </pre><p>This function retrieves gridded fields, tipically in GRIB format, to be used as initial and/or boundary conditions, possibly through an interpolation process, from the ECMWF MARS archive for the model run interval specified in the configuration. The basic keywords of the MARS query are specified in the configuration variable <code>$MODEL_MARS_BASE</code>, while the more specific keywords, such as list of variables, levels, timerange and reference time are automatically added to the basic query by the function. A specific model system module must have been loaded in order to provide the function inputmodel_name() for renaming the files. It should be called after having loaded the module <a class="el" href="nwptime_8sh.html" title="Module with functions for managing the reference time of NWP runs. ">nwptime.sh</a> for setting up the time-related environment variables and within a time loop on input models, such as: </p>
<pre class="fragment">nwpbctimeloop_init
while nwpbctimeloop_loop; do
    getmars_icbc
done  </pre> 
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
